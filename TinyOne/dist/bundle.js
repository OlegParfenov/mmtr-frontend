!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);!function(){let e,t,n={addButton:document.querySelector(".contacts-form__button_add"),selectWindow:document.querySelector(".select-field-window"),windowCross:document.querySelectorAll(".popup-window__cross"),selectWindowButton:document.querySelectorAll(".popup-window__button"),createWindow:document.querySelector(".create-field-window"),validWindow:document.querySelector(".success-validation-window"),createButton:document.querySelector("#createButton"),validBtn:document.querySelector("#validBtn"),modalBackground:document.querySelector(".modal"),sendFieldsButton:document.querySelector(".contacts-form__button_send"),contactsForm:document.querySelector(".contacts-form"),menu:document.querySelector(".menu")},o="";function c(e,t,n,o,c){this.uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),this.type=e,this.name=t,this.min=n,this.max=o,this.necessarily=c}function a(e,t=(()=>{})){e.classList.add("popup-window__animation_to-right"),setTimeout(()=>{t(),e.style.display="none",e.classList.remove("popup-window__animation_from-left")},300)}function i(e){n.selectWindow.style.display="none",n.validWindow.style.display="none",n.createWindow.style.display="none",e.style.display="block",e.classList.remove("popup-window__animation_to-right"),e.classList.add("popup-window__animation_from-left")}function s(e=300){setTimeout(()=>{n.modalBackground.style.display="none"},e)}function l(){const e=document.createElement("div");return e.classList.add("contacts-form__field"),e}function r(){n.menu.classList.remove("menu_show")}function d(){n.sendFieldsButton.style.display="block"}c.prototype.createCheckbox=function(){const e=l(),o=document.createElement("div");o.classList.add("contacts-form__checkbox"),t=document.createElement("input"),t.type="checkbox",e.appendChild(o),n.sendFieldsButton.before(e),o.appendChild(t),t.insertAdjacentHTML("afterend",`<label for="${this.uuid}">${this.name}</label>`),t.classList.add("page__field"),t.id=this.uuid,d()},c.prototype.createTextInput=function(){const e=l();t=document.createElement(`${this.type}`),t.classList.add("page__text-input"),t.placeholder=`${this.name}`,""==!this.min&&(t.minLength=`${this.min}`),""==!this.max&&(t.maxLength=`${this.max}`),e.appendChild(t),n.sendFieldsButton.before(e),t.classList.add("page__field"),t.id=this.uuid,d(),"input"===this.type&&t.classList.add("contacts-form__text-input"),"textarea"===this.type&&t.classList.add("contacts-form__textarea")},c.prototype.addNecessarilyLabel=function(){this.necessarily?(t.classList.add("necessarily"),t.insertAdjacentHTML("beforebegin",'<p class="contacts-form__required-field-label page__warn-label">Обязательное поле *\n                       </p>')):t.insertAdjacentHTML("beforebegin",'<p class="page__warn-label"></p>')},n.addButton.addEventListener("click",()=>{n.modalBackground.style.display="block",i(n.selectWindow)}),n.selectWindowButton.forEach(e=>{e.addEventListener("click",()=>{a(n.selectWindow,()=>{o=e.value+"","checkbox"===o?(document.querySelector("#minCountInput").style.display="none",document.querySelector("#maxCountInput").style.display="none"):(document.querySelector("#minCountInput").style.display="block",document.querySelector("#maxCountInput").style.display="block"),i(n.createWindow)})})}),n.createButton.addEventListener("click",()=>{const e=document.querySelector("#nameInput").value;let t=document.querySelector("#minCountInput").value,i=document.querySelector("#maxCountInput").value,l=!1;"necessarily"==document.querySelector("#selectNecessarily").value&&(l=!0),t<=0&&(t=""),(i<=0||i<t)&&(i="");const r=new c(o,e,t,i,l);"checkbox"===r.type?r.createCheckbox():r.createTextInput(),r.addNecessarilyLabel(),document.querySelectorAll(".page__text-input").forEach(e=>{e.oninput=()=>{if(e.value.length<e.minLength&&0!=e.value.length)e.classList.add("page__field_backlight_red"),e.parentNode.querySelector(".contacts-form__characters-warning-label")||e.insertAdjacentHTML("beforebegin",`<p class="contacts-form__characters-warning-label page__warn-label">\n                                   Минимальное количество символов: ${e.minLength}\n                                   </p>`);else{e.classList.remove("page__field_backlight_red");const t=e.parentNode.querySelector(".contacts-form__characters-warning-label");t&&t.remove()}}}),s(),a(n.createWindow)}),n.windowCross.forEach(e=>{e.addEventListener("click",()=>{lastButton="",s(),a(e.parentNode.parentNode)})}),n.sendFieldsButton.addEventListener("click",()=>{(function(){const e=document.querySelectorAll(".page__field");let t=!0;return e.forEach(e=>{(function(e){let t=!0;switch(e.type){case"checkbox":e.classList.contains("necessarily")&&!e.checked&&(t=!t);break;default:(e.classList.contains("necessarily")&&!e.value||e.value.length<e.minLength)&&(t=!t)}return t})(e)||(t=!1,function(e){"checkbox"!=e.type?e.classList.add("page__field_backlight_red"):e.parentNode.classList.add("contacts-form__checkbox_backlight")}(e))}),t})()&&(n.modalBackground.style.display="block",i(n.validWindow))}),n.validBtn.addEventListener("click",()=>{s(),a(n.validWindow)}),n.contactsForm.addEventListener("contextmenu",t=>{var o,c;t.preventDefault(),t.target.classList.contains("page__field")&&(e=t.target),t.target.parentNode.classList.contains("contacts-form__checkbox")&&(e=t.target.parentNode),o=t.clientX,c=t.clientY,n.menu.style.left=o+pageXOffset+"px",n.menu.style.top=c+pageYOffset+"px",n.menu.classList.add("menu_show")}),n.menu.addEventListener("click",t=>{t.preventDefault(),r(),function(t=(()=>{})){const n=e.parentNode;n.parentNode.removeChild(n),setTimeout(()=>{t()},200)}(),n.contactsForm.querySelectorAll(".contacts-form__field")[0]||(n.sendFieldsButton.style.display="none")}),window.addEventListener("click",e=>{e.target.classList.contains("page__field")||r()})}()},function(e,t){}]);